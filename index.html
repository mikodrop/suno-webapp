<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Suno VibeCraft</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body { background: #111; color: #fff; font-family: sans-serif; padding: 20px; }
        input, textarea { width: 100%; padding: 10px; margin-bottom: 10px; background: #222; border: 1px solid #444; color: #fff; border-radius: 8px; box-sizing: border-box; }
        label { color: #aaa; font-size: 12px; display: block; margin-bottom: 5px; }
        .btn { width: 100%; padding: 15px; background: #8b5cf6; color: white; border: none; border-radius: 10px; font-size: 16px; font-weight: bold; cursor: pointer; margin-top: 20px; }
        .switch-container { display: flex; align-items: center; justify-content: space-between; margin-bottom: 10px; background: #222; padding: 10px; border-radius: 8px; }
    </style>
</head>
<body>

    <label>–ù–∞–∑–≤–∞–Ω–∏–µ —Ç—Ä–µ–∫–∞</label>
    <input type="text" id="title" placeholder="Hit Song">

    <label>–°—Ç–∏–ª—å –º—É–∑—ã–∫–∏ (–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</label>
    <input type="text" id="style" placeholder="Rock, Pop, Phonk...">

    <div class="switch-container">
        <span>–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–ª (–±–µ–∑ —Å–ª–æ–≤)</span>
        <input type="checkbox" id="instrumental">
    </div>

    <label>–¢–µ–∫—Å—Ç –ø–µ—Å–Ω–∏ (–∏–ª–∏ –æ–ø–∏—Å–∞–Ω–∏–µ)</label>
    <textarea id="lyrics" rows="4" placeholder="–¢–µ–∫—Å—Ç –ø–µ—Å–Ω–∏..."></textarea>

    <button class="btn" onclick="sendData()">–°–û–ó–î–ê–¢–¨ –¢–†–ï–ö üöÄ</button>

<script>
    let tg = window.Telegram.WebApp;
    tg.expand();

    function sendData() {
        // 1. –ü–†–û–í–ï–†–ö–ê: –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∞–ª–µ—Ä—Ç, —á—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å, —á—Ç–æ –∫–ª–∏–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç
        // –ï—Å–ª–∏ —Ç—ã –≤–∏–¥–∏—à—å —ç—Ç–æ –æ–∫–Ω–æ - –∑–Ω–∞—á–∏—Ç HTML –≤ –ø–æ—Ä—è–¥–∫–µ
        // alert("–û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö..."); 

        let title = document.getElementById("title").value;
        let style = document.getElementById("style").value;
        let lyrics = document.getElementById("lyrics").value;
        let isInst = document.getElementById("instrumental").checked;

        if (!style) {
            tg.showPopup({title: "–û—à–∏–±–∫–∞", message: "–£–∫–∞–∂–∏ —Å—Ç–∏–ª—å –º—É–∑—ã–∫–∏!"});
            return;
        }

        let data = {
            title: title || "New Track",
            style: style,
            lyrics: lyrics,
            is_instrumental: isInst
        };

        // 2. –û–¢–ü–†–ê–í–ö–ê
        try {
            tg.sendData(JSON.stringify(data));
        } catch (e) {
            alert("–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏: " + e);
        }
    }
</script>
</body>
</html>
